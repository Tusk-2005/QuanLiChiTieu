{% extends "expenses/base.html" %}
{% block content %}
<style>
  .btn-dark,
  .btn-outline-dark {
    border-radius: 999px;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    font-size: 0.8rem;
    font-weight: 600;
    padding: 0.55rem 1.3rem;
    transition:
      background-color 0.18s ease-out,
      color 0.18s ease-out,
      border-color 0.18s ease-out,
      transform 0.18s ease-out,
      box-shadow 0.18s ease-out;
  }
  .btn-dark {
    background-color: #000000;
    border-color: #000000;
    color: #ffffff;
  }
  .btn-dark:hover {
    background-color: #222222;
    border-color: #222222;
    transform: translateY(-1px);
    box-shadow: 0 10px 26px rgba(0, 0, 0, 0.6);
  }
  .btn-outline-dark {
    background-color: transparent;
    border-color: #4b5563;
    color: #111827;
  }
  .btn-outline-dark:hover {
    background-color: #000000;
    border-color: #000000;
    color: #ffffff;
    transform: translateY(-1px);
    box-shadow: 0 10px 26px rgba(0, 0, 0, 0.6);
  }
  .exp-budget-table th {
    text-transform: uppercase;
    font-size: 0.8rem;
    letter-spacing: 0.12em;
  }
</style>

<h2 class="mb-4"> ƒê·∫∑t ng√¢n s√°ch</h2>
<form method="post" class="mb-4">
  {% csrf_token %}
  {{ form.as_p }}
  <button type="submit" class="btn btn-dark"> L∆∞u</button>
  <a href="{% url 'dashboard' %}" class="btn btn-outline-dark">‚Ü© Quay l·∫°i</a>
</form>

<h3 class="mt-5 mb-3"> H·∫°n m·ª©c hi·ªán t·∫°i</h3>
<table class="table table-bordered align-middle exp-budget-table">
  <thead>
    <tr>
      <th>Danh m·ª•c</th>
      <th>Ng√¢n s√°ch</th>
      <th>ƒê√£ chi</th>
      <th>C√≤n l·∫°i</th>
      <th>H√†nh ƒë·ªông</th>
    </tr>
  </thead>
  <tbody>
    {% for b in budgets %}
    <tr>
      <td>{{ b.category }}</td>
      <td>{{ b.limit }} ‚Ç´</td>
      <td>{{ b.spent }} ‚Ç´</td>
      <td>{{ b.remaining }} ‚Ç´</td>
      <td>
        <form method="post"
              action="{% url 'budget_delete' b.id %}"
              style="display:inline"
              onsubmit="return confirm('Xo√° ng√¢n s√°ch n√†y?');">
          {% csrf_token %}
          <button type="submit" class="btn btn-danger btn-sm">
            üóë X√≥a
          </button>
        </form>
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="5" class="text-center">Ch∆∞a c√≥ ng√¢n s√°ch n√†o</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
